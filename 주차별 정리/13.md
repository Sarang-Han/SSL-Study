## 디스크를 사용하는 이유
- 메모리의 공간은 한정적임! 디스크를 가상 메모리를 위한 swap space으로 사용할 수 있음(메모리의 주소공간 일부를 담는다)
- 메모리는 휘발성(volatile)임! 디스크는 장기 저장 공간으로 사용됨.

메모리는 여러 개의 원판(트랙)이 쌓여 원통 형태로 되어있음.
트랙 위는 섹터라는 최소 단위로 나눠져 있음.
회전하는 디스크를 헤드가 읽거나 쓴다.

## Disk read/write operation

1. 읽기 과정:

디스크 헤드 위치: 먼저, 디스크 헤드는 데이터를 읽거나 쓰기 위해 디스크 표면 상에 위치합니다. 하드 디스크의 경우, 회전하는 원판(플래터) 위에 여러 개의 트랙(track)이 있고, 각 트랙에는 섹터(sector)라 불리는 작은 데이터 단위가 저장되어 있습니다. <br>

헤드 이동: 컴퓨터는 디스크 헤드를 필요한 데이터가 위치한 트랙으로 이동시킵니다. 이 과정은 헤드의 물리적인 이동을 통해 이루어집니다.<br>

데이터 읽기: 헤드가 올바른 트랙에 도달하면, 회전하는 플래터 위의 해당 섹터에 저장된 데이터를 읽습니다. 이때 헤드는 마그네틱인 플래터 표면을 통해 데이터를 읽어들입니다.<br>

2. 쓰기 과정:

헤드 위치 및 이동: 쓰기 과정은 읽기와 유사하게 시작됩니다. 헤드를 쓰고자 하는 데이터가 저장될 위치로 이동시킵니다.<br>

데이터 쓰기: 헤드가 트랙에 도달하면, 컴퓨터는 헤드에 데이터를 전송하여 디스크 플래터의 해당 섹터에 데이터를 기록합니다. 이 과정에서 마그네틱 필드를 변경하여 데이터를 기록합니다.<br>

데이터 안정화: 쓰기 작업이 완료되면, 디스크 헤드는 플래터에서 떠나고 데이터는 안정적으로 저장됩니다.<br>

## Disk addressing
- Mapping a 3-D structure to a 1-D structure (물리적인 위치와 논리적인 위치의 매핑)

## Disk structure
- physical formatting
    + 디스크를 섹터들로 나누는 과정
    + 각 섹터는 header + data + trailer로 구성
- partitioning
    + 디스크를 하나 이상의 실린더 그룹으로 나누는 과정
    + os는 이것을 독립적 disk로 취급함 (logical disk)
- logical formatting
    + 파일시스템을 만드는 것

## File and file system
- File
- File attribute (혹은 metadata)
- File system
- Directory
    + 파일의 메타데이터 중 일부를 담고 있는 특별한 파일

## File system in unix
1. **Boot Block (부트 블록):**
   - 시스템이 부팅될 때, 부트 블록은 부트로더에 의해 로드되어 파일 시스템을 찾고 해당 파일 시스템의 슈퍼 블록을 찾습니다.
   - 주로 부트로더와 파일 시스템 간의 인터페이스 역할을 합니다.

2. **Super Block (슈퍼 블록):**
   - 파일 시스템의 메타데이터 중 하나로, 파일 시스템의 전반적인 정보를 담고 있습니다.
   - 파일 시스템의 크기, 블록 크기, 마운트 정보, 디스크 상태 등이 슈퍼 블록에 저장됩니다.
   - 시스템이 부팅되면 부트 블록을 통해 슈퍼 블록의 위치를 찾습니다.

3. **Inode (아이노드):**
   - 각 파일이나 디렉터리는 고유한 아이노드를 가지며, 이 아이노드는 해당 파일의 메타데이터 정보를 담고 있습니다.
   - 파일의 소유자, 권한, 크기, 생성 시간 등이 아이노드에 저장됩니다.

4. **Data Block (데이터 블록):**
   - 파일의 실제 데이터가 저장되는 곳입니다.
   - 아이노드에는 데이터 블록의 위치 정보가 있어 해당 위치에서 파일의 실제 내용을 읽거나 쓸 수 있습니다.

이러한 요소들이 함께 동작하여 유닉스 파일 시스템은 안정성과 효율성을 제공합니다. 부트 블록을 통해 시스템이 부팅되고, 슈퍼 블록을 통해 파일 시스템의 전반적인 정보를 얻고, 아이노드와 데이터 블록을 활용하여 파일 및 디렉터리의 구조와 내용을 관리합니다.

다 통틀어서 partition(=logical disk)

## Swap-space management
- Swap-space
    + 속도 효율성이 우선 (메모리와 함께 날라감)
    + 자주 참조됨
    + 큰 단위로 관리됨

## 리눅스의 중요한 파일들

**/etc/passwd**
- 모든 계정에 대한 정보를 담고있음
- 형식:
    + username:passwd:uid:gid:gecos:homedir:shell

**/etc/shadow**
- 유저 패스워드 정보 관리